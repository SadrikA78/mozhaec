<tr><th><label for="id_name">Название:</label></th><td><input type="text" name="name" required maxlength="128" id="id_name"></td></tr>
<tr><th><label for="id_loc">Loc:</label></th><td><style type="text/css">
    #id_loc_map { width: 600px; height: 400px; }
    #id_loc_map .aligned label { float: inherit; }
    #id_loc_div_map { position: relative; vertical-align: top; float: left; }
    #id_loc { display: none; }
    
</style>

<div id="id_loc_div_map">
    <div id="id_loc_map"></div>
    <span class="clear_features"><a href="javascript:geodjango_loc.clearFeatures()">Удалить все объекты</a></span>
    
    <textarea id="id_loc" class="vSerializedField required" cols="150" rows="10" name="loc"></textarea>
    <script type="text/javascript">
        var map_options = {};
        
            var base_layer = new ol.layer.Tile({
                source: new ol.source.XYZ({
                    attributions: "NASA Worldview",
                    maxZoom: 8,
                    url: "https://map1{a-c}.vis.earthdata.nasa.gov/wmts-webmerc/" +
                         "BlueMarble_ShadedRelief_Bathymetry/default/%7BTime%7D/" +
                         "GoogleMapsCompatible_Level8/{z}/{y}/{x}.jpg"
                })
            });
        
        var options = {
            base_layer: base_layer,
            geom_name: 'Point',
            id: 'id_loc',
            map_id: 'id_loc_map',
            map_options: map_options,
            map_srid: 3857,
            name: 'loc'
        };
        
        var geodjango_loc = new MapWidget(options);
    </script>
</div></td></tr>
